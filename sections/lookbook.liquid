<section class="lbsection">
   {% if section.settings.heading!=blank %}
    <h2 class="lbheading">{{ section.settings.heading}}</h2>
   {% endif %}

   <div class="lbblocks">
    {% for block in section.blocks %}
        <div class="lbblock" {{ block.shopify_attributes }}>

            <div class="lbbanner">
                {% if block.settings.lbbanner!=blank %}
                    <img src="{{ block.settings.lbbanner | image_url }}" alt="LB Banner">
                    <div class="lbbanner-overlay">
                        {% if block.settings.lbbanner_heading!=blank %}
                            <h3>{{ block.settings.lbbanner_heading }}</h3>
                        {% endif %}
                        {% if block.settings.lbbutton!=blank %}
                            <a href="{{ block.settings.lbbuttonlink }}" class="lb-button">{{ block.settings.lbbutton }}</a>
                        {%  endif %}
                    </div>
                {% endif %}
            </div>

            <div class="lbproducts">
               <div class="lbproduct-slider">

                {% if block.settings.product_1 != blank %}
                    {% assign product = block.settings.product_1 %}
                    <div class="lbproduct-card">
                    <a href="{{ product.url }}">
                        <img src="{{ product.featured_image | image_url: width: 400 }}">
                        <p class="title">{{ product.title }}</p>
                        <p class="price">{{ product.price | money }}</p>
                    </a>
                    </div>
                {% endif %}

                {% if block.settings.product_2 != blank %}
                    {% assign product = block.settings.product_2 %}
                    <div class="lbproduct-card">
                    <a href="{{ product.url }}">
                        <img src="{{ product.featured_image | image_url: width: 400 }}">
                        <p class="title">{{ product.title }}</p>
                        <p class="price">{{ product.price | money }}</p>
                    </a>
                    </div>
                {% endif %}

                {% if block.settings.product_3 != blank %}
                    {% assign product = block.settings.product_3 %}
                    <div class="lbproduct-card">
                    <a href="{{ product.url }}">
                        <img src="{{ product.featured_image | image_url: width: 400 }}">
                        <p class="title">{{ product.title }}</p>
                        <p class="price">{{ product.price | money }}</p>
                    </a>
                    </div>
                {% endif %}

                {% if block.settings.product_4 != blank %}
                    {% assign product = block.settings.product_4 %}
                    <div class="lbproduct-card">
                    <a href="{{ product.url }}">
                        <img src="{{ product.featured_image | image_url: width: 400 }}">
                        <p class="title">{{ product.title }}</p>
                        <p class="price">{{ product.price | money }}</p>
                    </a>
                    </div>
                {% endif %}

                </div>

            </div>
        </div>
    {% endfor %}
    </div>
</section>

<style>
    .lbsection {
    padding: 60px 0;
    }

    .lbheading {
    text-align: center;
    font-size: 30px;
    margin-bottom: 40px;
    }

    .lbblocks {
    width: 100%;
    }

    .lbblock {
    display: flex;
    gap: 30px;
    padding: 0;
    margin-left: -40px;
    margin-right: -40px;
    width: calc(100% + 80px);
    }

    
    .lbbanner {
    width: 50%;
    position: relative;
    }

    .lbbanner img {
    width: 100%;
    border-radius: 12px;
    }

    .lbbanner-overlay {
    position: absolute;
    bottom: 20px;
    left: 20px;
    right: 20px;
    background: #fff;
    padding: 10px 30px;
    border-radius: 12px;
    display: flex;              
    align-items: center;
    justify-content: space-between;         
    gap: 16px;                   
    }

    .lbbanner-overlay h3 {
    font-size: 15px;    
    margin: 0;
    font-weight: 500;
    line-height: 1.2;
    }

    .lb-button {
    display: inline-block;
    padding: 10px 18px;
    background-color: #1f3d2b;
    color: #ffffff;
    text-decoration: none;
    font-size: 14px;
    border-radius: 25px;
    transition: background-color 0.3s ease;
    }

    .lb-button:hover {
    background-color: #163021;
    }

    .lbproducts {
    width: 50%;
    }

    
    .lbproduct-slider {
    display: flex;
    gap: 16px;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    padding-bottom: 10px;
    }

    .lbproduct-slider::-webkit-scrollbar {
    height: 6px;
    }

    .lbproduct-card {
    min-width: 200px;
    scroll-snap-align: start;
    background: #f6f6f6;
    padding: 12px;
    border-radius: 10px;
    text-align: center;
    }

    .lbproduct-card img {
    width: 100%;
    border-radius: 8px;
    }

    .lbproduct-card .title {
    font-size: 14px;
    margin: 10px 0 4px;
    color: #333;
    line-height: 1.4;
    }

    .lbproduct-card .price {
    font-weight: bold;
    font-size: 14px;
    color: #000;
    margin: 0;
    }

    .lbproduct-card a {
    text-decoration: none;
    color: inherit;
    display: block;
    }


/* Mobile */
@media (max-width: 768px) {
    .lbsection {
        padding: 30px 0;
    }

    .lbheading {
        font-size: 22px;
        margin-bottom: 24px;
        padding: 0 16px;
    }

    .lbblock {
        flex-direction: column; 
        gap: 0;
        margin-left: 0;
        margin-right: 0;
        margin-bottom: 24px;
        width: 100% !important;
    }

    .lbblock:last-child {
        margin-bottom: 0;
    }

    .lbbanner {
        width: 100%;
        border-radius: 0;
    }

    .lbbanner img {
        border-radius: 0;
        width: 100%;
        display: block;
    }

    .lbbanner-overlay {
        bottom: 16px;
        left: 16px;
        right: 16px;
        padding: 12px 16px;
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }

    .lbbanner-overlay h3 {
        font-size: 14px;
        margin: 0;
    }

    .lb-button {
        padding: 10px 20px;
        font-size: 13px;
        width: 100%;
        text-align: center;
    }

    .lbproducts {
        width: 100%;
        padding: 16px;
    }

    .lbproduct-slider {
        gap: 12px;
        padding-bottom: 8px;
    }

    .lbproduct-card {
        min-width: 180px;
        padding: 10px;
    }

    .lbproduct-card .title {
        font-size: 13px;
        margin: 8px 0 4px;
        line-height: 1.3;
    }

    .lbproduct-card .price {
        font-size: 14px;
        font-weight: 600;
    }

    .lbproduct-card img {
        border-radius: 6px;
    }
}

</style>

{% schema %}
{
  "name": "Lookbook",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "section heading",
      "default": "Lookbook"
    }
  ],
  "blocks": [
    {
        "type": "item",
        "name":"lbitem",
        "settings": [
            {
                "type": "image_picker",
                "id":"lbbanner",
                "label":"lbbanner"
            },
            {
                "type":"text",
                "id":"lbbanner_heading",
                "label":"LB Banner Heading"
            },
            {
                "type":"url",
                "id":"lbbuttonlink",
                "label":"LB Button link"
            },
            {
                "type":"text",
                "id":"lbbutton",
                "label":"LB Button"
            },
            {
                "type": "product",
                "id": "product_1",
                "label": "Product 1"
            },
            {
                "type": "product",
                "id": "product_2",
                "label": "Product 2"
            },
            {
                "type": "product",
                "id": "product_3",
                "label": "Product 3"
            },
            {
                "type": "product",
                "id": "product_4",
                "label": "Product 4"
            }
        ]
    }
  ],
  "presets": [
    {
      "name": "Lookbook"
    }
  ]
}
{% endschema %}